<div class="festival-list-container">
  <!-- Header Section -->
  
  <!-- Filters Section -->
  <div class="filters-section">
    <div class="search-box">
      <span class="search-icon">üîç</span>
      <input 
        type="text" 
        class="search-input" 
        placeholder="Rechercher par nom ou lieu..."
        [value]="searchQuery()"
        (input)="onSearchChange($event)"
      >
    </div>

    <div class="filter-box">
      <select 
        class="filter-select"
        [value]="dateFilter()"
        (change)="onDateFilterChange($event)"
      >
        <option value="all">Tous les festivals</option>
        <option value="upcoming">√Ä venir</option>
        <option value="ongoing">En cours</option>
        <option value="past">Pass√©s</option>
      </select>
    </div>

    @if(searchQuery() || dateFilter() !== 'all') {
      <button class="clear-btn" (click)="clearFilters()">
        R√©initialiser
      </button>
    }

    <div class="results-count">
      {{ festivalCount() }} / {{ totalCount() }} festivals
    </div>
  </div>
  
  <div class="button-container">
    @if(!showform() && canManageFestivals()){
        <button (click)="toggleform()" class="action-btn add-btn">Ajouter un festival</button>
    }
    @if(showform()){
        <button (click)="hideform()" class="action-btn cancel-btn">Annuler</button>
    }
  </div>

  <!-- Form Section -->
  @if(showform()){
    <div class="form-section">
      <app-festival-form 
        (newFestival)="add($event)" 
        (updatedFestival)="update($event)"
        [editingFestival]="editingFestival()"
      ></app-festival-form>
    </div>
  }

  

  <!-- Festival Cards Grid -->
  <div class="festivals-grid">
    @for (festivals of festivals(); track festivals.id){
      <app-festival-card
        (card)="goToFestival(festivals.id)"
        [festivals]="festivals"
        (remove)="remove($event)"
        (edit)="edit($event)"
      > </app-festival-card>
    } @empty {
      <div class="no-results">
        <p>Aucun festival trouv√©</p>
        <p class="hint">Essayez d'ajuster vos filtres</p>
      </div>
    }
  </div>
</div>