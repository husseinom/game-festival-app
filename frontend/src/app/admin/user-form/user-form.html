<div class="form-container">
  <h2>Créer un utilisateur</h2>
  
  <form [formGroup]="form" (submit)="onSubmit($event)">
    <div class="form-group">
      <label for="name">Nom</label>
      <input 
        type="text" 
        id="name" 
        formControlName="name" 
        placeholder="Nom de l'utilisateur"
        [class.invalid]="nameControl.invalid && nameControl.touched">
      @if (nameControl.invalid && nameControl.touched) {
        <span class="error-msg">Le nom est requis (min 2 caractères)</span>
      }
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email" 
        placeholder="email@exemple.com"
        [class.invalid]="emailControl.invalid && emailControl.touched">
      @if (emailControl.invalid && emailControl.touched) {
        <span class="error-msg">Email invalide</span>
      }
    </div>

    <div class="form-group">
      <label for="password">Mot de passe</label>
      <input 
        type="password" 
        id="password" 
        formControlName="password" 
        placeholder="Mot de passe"
        [class.invalid]="passwordControl.invalid && passwordControl.touched">
      @if (passwordControl.invalid && passwordControl.touched) {
        <span class="error-msg">Mot de passe requis (min 4 caractères)</span>
      }
    </div>

    <div class="form-group">
      <label for="role">Rôle</label>
      <select id="role" formControlName="role">
        @for (role of roles; track role.value) {
          <option [value]="role.value">{{ role.label }}</option>
        }
      </select>
    </div>

    <button type="submit" class="btn-submit" [disabled]="isLoading()">
      {{ isLoading() ? 'Création...' : 'Créer l\'utilisateur' }}
    </button>
  </form>
</div>
