<div class="form-container">
  <h2>{{ title() }}</h2>
  
  <form [formGroup]="form" (submit)="onSubmit($event)">
    <div class="form-group">
      <label for="name">Nom *</label>
      <input 
        type="text" 
        id="name" 
        formControlName="name" 
        placeholder="Nom du réservant"
        [class.invalid]="nameControl.invalid && nameControl.touched">
      @if (nameControl.invalid && nameControl.touched) {
        <span class="error-msg">Le nom est requis (min 2 caractères)</span>
      }
    </div>

    <div class="form-group">
      <label for="type">Type *</label>
      <select id="type" formControlName="type">
        @for (type of types; track type.value) {
          <option [value]="type.value">{{ type.label }}</option>
        }
      </select>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email" 
        placeholder="email@example.com"
        [class.invalid]="emailControl.invalid && emailControl.touched">
      @if (emailControl.invalid && emailControl.touched) {
        <span class="error-msg">Email invalide</span>
      }
    </div>

    <div class="form-group">
      <label for="mobile">Téléphone mobile</label>
      <input 
        type="tel" 
        id="mobile" 
        formControlName="mobile" 
        placeholder="+33 6 12 34 56 78">
    </div>

    <div class="form-group">
      <label for="role">Rôle dans l'organisation</label>
      <input 
        type="text" 
        id="role" 
        formControlName="role" 
        placeholder="Ex: Responsable, Coordinateur...">
    </div>

    <button type="submit" class="btn-submit" [disabled]="isLoading()">
      {{ isLoading() ? 'Enregistrement...' : submitLabel() }}
    </button>
  </form>
</div>
